function afficherTitresDuMois(numMois, btn) {
    const listeContainer = document.getElementById('titres-liste');
    const detailContainer = document.getElementById('message-detail');

    // SI LE BOUTON EST DÃ‰JÃ€ ACTIF : On referme tout ! (Effet interrupteur)
    if (btn.classList.contains('active')) {
        btn.classList.remove('active');
        listeContainer.innerHTML = '';
        detailContainer.innerHTML = '';
        listeContainer.classList.remove('reveal-list');
        return; // On s'arrÃªte lÃ 
    }

    // SINON : On ouvre le mois normalement
    document.querySelectorAll('.month-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    
    listeContainer.classList.remove('reveal-list');
    detailContainer.innerHTML = ''; 
    
    const filtered = tousLesMessages.filter(msg => (new Date(msg.date).getMonth() + 1) === numMois)
                                  .sort((a, b) => a.id - b.id);

    if(filtered.length === 0) {
        listeContainer.innerHTML = "<p style='margin:20px 0; color:#95a5a6;'>Aucun enseignement pour ce mois. ğŸ™</p>";
    } else {
        listeContainer.innerHTML = filtered.map(msg => 
            `<div class="titre-archive-item" onclick="voirDetail(${msg.id})">ğŸ“– ${msg.titre}</div>`
        ).join('');
        
        void listeContainer.offsetWidth; 
        listeContainer.classList.add('reveal-list');
    }
}
